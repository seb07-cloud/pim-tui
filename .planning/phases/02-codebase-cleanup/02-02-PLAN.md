---
phase: 02-codebase-cleanup
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [internal/ui/views.go]
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "No unused functions exist in codebase"
  artifacts:
    - path: "internal/ui/views.go"
      provides: "View rendering logic"
      contains: "func formatDuration"
  key_links: []
---

<objective>
Remove dead code identified by verification: the `renderExpiryLine` function in views.go.

Purpose: Close gap from Phase 2 verification (score 3/4 â†’ 4/4)
Output: views.go without renderExpiryLine function
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-codebase-cleanup/02-01-SUMMARY.md
@.planning/phases/02-codebase-cleanup/02-VERIFICATION.md

@internal/ui/views.go
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove renderExpiryLine dead code</name>
  <files>internal/ui/views.go</files>
  <action>
Remove the `renderExpiryLine` function (lines 1492-1500).

This function is dead code:
- Defined but never called anywhere in the codebase
- The expiry display logic at lines 442 and 493 duplicates this functionality inline
- `formatDuration` (the function called by renderExpiryLine) is still used elsewhere, so keep it

Delete these exact lines:
```go
func renderExpiryLine(expiresAt *time.Time) string {
	if expiresAt == nil {
		return ""
	}
	if remaining := time.Until(*expiresAt); remaining > 0 {
		return detailLabelStyle.Render("Expires: ") + detailValueStyle.Render(formatDuration(remaining))
	}
	return ""
}
```
  </action>
  <verify>
1. `grep -r "renderExpiryLine" internal/` returns no results
2. `go build ./...` succeeds
3. `go vet ./...` passes
  </verify>
  <done>renderExpiryLine function removed, code compiles and passes vet</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `grep -r "renderExpiryLine" internal/` returns no results
- [ ] `go build ./...` succeeds without errors
- [ ] `go vet ./...` passes with no warnings
</verification>

<success_criteria>

- renderExpiryLine function removed from views.go
- Code compiles successfully
- go vet passes
- Gap from VERIFICATION.md closed
  </success_criteria>

<output>
After completion, create `.planning/phases/02-codebase-cleanup/02-02-SUMMARY.md`
</output>
