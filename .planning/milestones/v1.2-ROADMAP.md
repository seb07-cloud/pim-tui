# Milestone v1.2: UI Polish & Auth UX

**Status:** âœ… SHIPPED 2026-01-16
**Phases:** 8-9
**Total Plans:** 2

## Overview

v1.2 focused on UI polish and authentication UX enhancements. Improved visual feedback (startup ordering, cursor visibility, permission wrapping) and added in-app browser authentication so users can log in without restarting the app.

## Phases

### Phase 8: UI Polish

**Goal**: Improve visual feedback and readability across the UI
**Depends on**: Phase 7
**Requirements**: UI-02, UI-03, UI-04
**Success Criteria** (what must be TRUE):
  1. Startup steps display in correct order (no race condition in display)
  2. Selected role/group row is clearly highlighted (white or inverted)
  3. Long permission strings wrap at path segments with proper indentation

Plans:
- [x] 08-01: Fix startup ordering, improve cursor visibility, wrap permissions

**Details:**
- Deterministic step ordering via activeIdx pattern
- High-contrast cursor (white background, black text, bold)
- wrapPermission() function for path-aware wrapping

### Phase 9: In-App Authentication

**Goal**: Allow users to authenticate from within the app without restarting
**Depends on**: Phase 8
**Requirements**: AUTH-01
**Success Criteria** (what must be TRUE):
  1. App detects unauthenticated state and shows friendly message (not error crash)
  2. User can trigger login flow from within the app
  3. After successful login, app refreshes credentials and continues loading
  4. Browser auth supported (device code blocked by security policies)

Plans:
- [x] 09-01: Add browser authentication with StateUnauthenticated UI flow

**Details:**
- StateUnauthenticated and StateAuthenticating states
- AuthenticateWithBrowser() using azidentity.InteractiveBrowserCredential
- renderUnauthenticated() view with centered content
- 'L' keybinding for login, Esc for cancel

---

## Milestone Summary

**Decimal Phases:**
None.

**Key Decisions:**
- Browser auth over device code (device code often blocked by security policies)
- High-contrast cursor (white/black) for maximum visibility on any terminal
- Path-segment wrapping for permissions (readable long strings in detail panel)
- ANSI clear screen codes for clean full-screen auth rendering
- Native azidentity.InteractiveBrowserCredential (simpler than custom MSAL wrapper)

**Issues Resolved:**
- Startup steps displayed in non-deterministic order due to parallel loads
- Cursor not visible on some terminal themes
- Long permission strings overflowed detail panel
- Users couldn't authenticate without restarting app

**Issues Deferred:**
None.

**Technical Debt Incurred:**
- New auth states not covered in unit tests (code works, tests could be added)

---

_For current project status, see .planning/ROADMAP.md_
